<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pendaftaran Akun</title>

    <!-- Bootstrap 5 CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Font Awesome 6 -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <style>
      :root {
        --primary-color: #4361ee;
        --primary-dark: #3f37c9;
        --secondary-color: #4895ef;
        --light-color: #f8f9fa;
        --dark-color: #212529;
        --gray-light: #e9ecef;
        --gray-medium: #adb5bd;
        --box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        --success-color: #06d6a0;
        --warning-color: #ffd166;
        --danger-color: #ef476f;
      }

      body {
        font-family: "Segoe UI", system-ui, sans-serif;
        background-color: #f5f7fb;
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(135deg, #f5f7fa 0%, #e4edf5 100%);
        background-size: cover;
        background-repeat: no-repeat;
        margin: 0;
        padding: 15px;
      }

      .auth-container {
        width: 100%;
        max-width: 800px;
        padding: 20px;
      }

      .auth-card {
        background-color: white;
        border-radius: 15px;
        box-shadow: var(--box-shadow);
        overflow: hidden;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

      .auth-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
      }

      .auth-header {
        background: linear-gradient(
          135deg,
          var(--primary-color),
          var(--primary-dark)
        );
        color: white;
        text-align: center;
        padding: 30px 20px;
      }

      .auth-header h2 {
        font-weight: 700;
        margin-bottom: 10px;
      }

      .auth-header p {
        opacity: 0.9;
        margin-bottom: 0;
      }

      .auth-body {
        padding: 30px;
      }

      .form-group {
        margin-bottom: 20px;
        position: relative;
      }

      .form-label {
        font-weight: 600;
        color: var(--dark-color);
        margin-bottom: 8px;
        display: block;
      }

      .input-icon {
        position: absolute;
        left: 15px;
        top: 50%;
        transform: translateY(-50%);
        color: var(--primary-color);
        font-size: 18px;
      }

      .form-control {
        padding-left: 45px;
        height: 50px;
        border-radius: 8px;
        border: 2px solid var(--gray-light);
        transition: all 0.3s ease;
      }

      .form-control:focus {
        border-color: var(--primary-color);
        box-shadow: 0 0 0 0.25rem rgba(67, 97, 238, 0.2);
      }

      .btn-auth {
        background: linear-gradient(
          to right,
          var(--primary-color),
          var(--secondary-color)
        );
        color: white;
        border: none;
        border-radius: 8px;
        padding: 12px;
        font-weight: 600;
        font-size: 16px;
        width: 100%;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
        z-index: 1;
      }

      .btn-auth::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          to right,
          var(--secondary-color),
          var(--primary-color)
        );
        transition: all 0.4s ease;
        z-index: -1;
      }

      .btn-auth:hover::before {
        left: 0;
      }

      .btn-auth:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(67, 97, 238, 0.3);
      }

      .btn-auth i {
        margin-right: 8px;
      }

      .auth-footer {
        text-align: center;
        padding: 20px 0 0;
        color: #6c757d;
      }

      .auth-footer a {
        color: var(--primary-color);
        text-decoration: none;
        font-weight: 500;
        transition: color 0.3s ease;
      }

      .auth-footer a:hover {
        color: var(--primary-dark);
        text-decoration: underline;
      }

      .password-toggle {
        position: absolute;
        right: 15px;
        top: 50%;
        transform: translateY(-50%);
        cursor: pointer;
        color: #6c757d;
        transition: color 0.3s ease;
      }

      .password-toggle:hover {
        color: var(--primary-color);
      }

      .brand-logo {
        width: 80px;
        height: 80px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 15px;
      }

      .brand-logo i {
        font-size: 40px;
      }

      .back-to-login {
        display: inline-flex;
        align-items: center;
        color: var(--primary-color);
        margin-bottom: 20px;
        font-weight: 500;
        text-decoration: none;
      }

      .back-to-login i {
        margin-right: 8px;
        transition: transform 0.3s ease;
      }

      .back-to-login:hover i {
        transform: translateX(-5px);
      }

      .password-strength {
        height: 5px;
        border-radius: 5px;
        margin-top: 8px;
        background-color: var(--gray-light);
        overflow: hidden;
      }

      .password-strength-bar {
        height: 100%;
        width: 0;
        transition: width 0.3s ease;
      }

      .password-hint {
        font-size: 12px;
        color: var(--gray-medium);
        margin-top: 5px;
      }

      /* Layout 2 Kolom */
      .registration-row {
        display: flex;
        flex-wrap: wrap;
        margin: 0 -15px;
      }

      .registration-col {
        flex: 1;
        padding: 0 15px;
        min-width: 300px;
      }

      /* Responsive Adjustments */
      @media (max-width: 768px) {
        .registration-row {
          flex-direction: column;
          margin: 0;
        }

        .registration-col {
          padding: 0;
          width: 100%;
        }
      }

      @media (max-width: 576px) {
        .auth-container {
          padding: 10px;
        }

        .auth-header {
          padding: 20px 15px;
        }

        .auth-body {
          padding: 20px;
        }
      }

      @media (max-height: 700px) {
        body {
          padding: 20px 0;
          min-height: auto;
        }
      }
    </style>
  </head>

  <body>
    <div class="auth-container">
      <div class="auth-card">
        <!-- Header -->
        <div class="auth-header">
          <div class="brand-logo">
            <i class="fas fa-user-plus"></i>
          </div>
          <h2>Buat Akun Baru</h2>
          <p>Isi formulir pendaftaran untuk membuat akun</p>
        </div>

        <!-- Body -->
        <div class="auth-body">
          <a href="login.html" class="back-to-login">
            <i class="fas fa-arrow-left"></i> Kembali ke Login
          </a>

          <form action="register_process.php" method="POST">
            <div class="registration-row">
              <!-- Kolom 1 -->
              <div class="registration-col">
                <!-- Nama Lengkap -->
                <div class="form-group">
                  <label for="fullname" class="form-label">Nama Lengkap</label>
                  <div class="position-relative">
                    <i class="fas fa-user input-icon"></i>
                    <input
                      type="text"
                      class="form-control"
                      id="fullname"
                      name="fullname"
                      placeholder="Masukkan nama lengkap"
                      required
                    />
                  </div>
                </div>

                <!-- NIM -->
                <div class="form-group">
                  <label for="nim" class="form-label">NIM</label>
                  <div class="position-relative">
                    <i class="fas fa-id-card input-icon"></i>
                    <input
                      type="text"
                      class="form-control"
                      id="nim"
                      name="nim"
                      placeholder="Masukkan NIM"
                      required
                    />
                  </div>
                </div>

                <!-- Email -->
                <div class="form-group">
                  <label for="email" class="form-label">Email</label>
                  <div class="position-relative">
                    <i class="fas fa-envelope input-icon"></i>
                    <input
                      type="email"
                      class="form-control"
                      id="email"
                      name="email"
                      placeholder="Masukkan email Anda"
                      required
                    />
                  </div>
                </div>
              </div>

              <!-- Kolom 2 -->
              <div class="registration-col">
                <!-- Telepon -->
                <div class="form-group">
                  <label for="phone" class="form-label">Telepon</label>
                  <div class="position-relative">
                    <i class="fas fa-phone input-icon"></i>
                    <input
                      type="tel"
                      class="form-control"
                      id="phone"
                      name="phone"
                      placeholder="Masukkan nomor telepon"
                      required
                    />
                  </div>
                </div>

                <!-- Password -->
                <div class="form-group">
                  <label for="password" class="form-label">Password</label>
                  <div class="position-relative">
                    <i class="fas fa-lock input-icon"></i>
                    <input
                      type="password"
                      class="form-control"
                      id="password"
                      name="password"
                      placeholder="Buat password"
                      required
                    />
                    <span class="password-toggle" id="togglePassword">
                      <i class="fas fa-eye"></i>
                    </span>
                  </div>
                  <div class="password-strength">
                    <div
                      class="password-strength-bar"
                      id="passwordStrengthBar"
                    ></div>
                  </div>
                  <div class="password-hint">
                    Minimal 8 karakter, huruf besar, kecil, dan angka
                  </div>
                </div>

                <!-- Konfirmasi Password -->
                <div class="form-group">
                  <label for="confirmPassword" class="form-label"
                    >Konfirmasi Password</label
                  >
                  <div class="position-relative">
                    <i class="fas fa-lock input-icon"></i>
                    <input
                      type="password"
                      class="form-control"
                      id="confirmPassword"
                      name="confirm_password"
                      placeholder="Konfirmasi password"
                      required
                    />
                    <span class="password-toggle" id="toggleConfirmPassword">
                      <i class="fas fa-eye"></i>
                    </span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Submit Button -->
            <button type="submit" class="btn btn-auth mt-3">
              <i class="fas fa-user-plus"></i> Daftar
            </button>
          </form>
        </div>

        <!-- Footer -->
        <div class="auth-footer">
          <p>Sudah punya akun? <a href="login.html">Masuk sekarang</a></p>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      // Toggle password visibility
      function setupPasswordToggle(toggleId, passwordId) {
        const toggle = document.getElementById(toggleId);
        if (!toggle) return;

        toggle.addEventListener("click", function () {
          const passwordInput = document.getElementById(passwordId);
          const icon = this.querySelector("i");

          if (passwordInput.type === "password") {
            passwordInput.type = "text";
            icon.classList.remove("fa-eye");
            icon.classList.add("fa-eye-slash");
          } else {
            passwordInput.type = "password";
            icon.classList.remove("fa-eye-slash");
            icon.classList.add("fa-eye");
          }
        });
      }

      // Setup password toggles
      setupPasswordToggle("togglePassword", "password");
      setupPasswordToggle("toggleConfirmPassword", "confirmPassword");

      // Password strength indicator
      const passwordInput = document.getElementById("password");
      if (passwordInput) {
        passwordInput.addEventListener("input", function () {
          const password = this.value;
          const strengthBar = document.getElementById("passwordStrengthBar");
          let strength = 0;

          // Check password length
          if (password.length >= 8) strength += 25;

          // Check for lowercase letters
          if (/[a-z]/.test(password)) strength += 25;

          // Check for uppercase letters
          if (/[A-Z]/.test(password)) strength += 25;

          // Check for numbers
          if (/[0-9]/.test(password)) strength += 25;

          // Update strength bar
          if (strengthBar) {
            strengthBar.style.width = strength + "%";

            // Update color
            if (strength < 50) {
              strengthBar.style.backgroundColor = "var(--danger-color)";
            } else if (strength < 75) {
              strengthBar.style.backgroundColor = "var(--warning-color)";
            } else {
              strengthBar.style.backgroundColor = "var(--success-color)";
            }
          }
        });
      }

      // Form validation
      const form = document.querySelector("form");
      if (form) {
        form.addEventListener("submit", function (e) {
          const password = document.getElementById("password")?.value;
          const confirmPassword =
            document.getElementById("confirmPassword")?.value;

          if (password && confirmPassword && password !== confirmPassword) {
            e.preventDefault();
            alert("Password dan konfirmasi password tidak cocok!");
            return;
          }

          // Check required fields
          const inputs = form.querySelectorAll("input[required]");
          let valid = true;

          inputs.forEach((input) => {
            if (!input.value) {
              valid = false;
              input.classList.add("is-invalid");
            } else {
              input.classList.remove("is-invalid");
            }
          });

          if (!valid) {
            e.preventDefault();
            alert("Harap lengkapi semua field yang wajib diisi!");
          }
        });
      }
    </script>
  </body>
</html>
